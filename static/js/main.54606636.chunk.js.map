{"version":3,"sources":["utils/api.ts","images/PopcornIcon.png","styles/AppSearchBar.styles.ts","components/AppBar.tsx","styles/MediaCard.styles.ts","components/MediaCard.tsx","utils/helpers.ts","App.tsx","index.tsx"],"names":["fetchIMDbData","title","a","options","method","url","params","q","headers","axios","request","getStreamsForTitle","id","source_id","source","country","useStyles","makeStyles","theme","createStyles","root","flexGrow","menuButton","marginRight","spacing","color","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","SearchAppBar","props","useState","loading","setLoading","classes","handleKeyDown","event","key","target","value","result","setStreams","data","d","Box","className","AppBar","elevation","style","background","Toolbar","src","AppIcon","alt","CircularProgress","size","InputBase","placeholder","input","onKeyPress","e","inputProps","IconButton","maxWidth","media","truncateBox","str","n","subString","length","substr","truncate","Tooltip","aria-label","MediaCard","locations","setLocations","anchorEl","setAnchorEl","searching","setSearching","handleClick","currentTarget","loc","collection","Popover","open","Boolean","onClose","anchorOrigin","vertical","horizontal","transformOrigin","p","flexDirection","map","index","mb","cursor","onClick","window","icon","fontFamily","Card","CardMedia","image","picture","undefined","CardContent","Typography","variant","CardActions","IMDbId","App","streams","textAlign","Grid","container","justify","marginTop","paddingRight","stream","item","xs","sm","md","l","i","imageUrl","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54606636.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const fetchIMDbData = async (title: string) => {\n    const options: any = {\n        method: \"GET\",\n        url: \"https://imdb8.p.rapidapi.com/title/auto-complete\",\n        params: { q: title },\n        headers: {\n            \"x-rapidapi-key\": \"4842e2378bmsh83cda0f16148544p1fb134jsn5e514e7959e2\",\n            \"x-rapidapi-host\": \"imdb8.p.rapidapi.com\",\n        },\n    };\n    return await axios.request(options);\n}\n\nexport const getStreamsForTitle = async (id: string) => {\n    const options: any = {\n        method: \"GET\",\n        url:\n            \"https://utelly-tv-shows-and-movies-availability-v1.p.rapidapi.com/idlookup\",\n        params: { source_id: id, source: \"imdb\", country: \"us\" },\n        headers: {\n            \"x-rapidapi-key\": \"4842e2378bmsh83cda0f16148544p1fb134jsn5e514e7959e2\",\n            \"x-rapidapi-host\":\n                \"utelly-tv-shows-and-movies-availability-v1.p.rapidapi.com\",\n        },\n    };\n\n    return await axios.request(options);\n};\n","export default __webpack_public_path__ + \"static/media/PopcornIcon.5d2ae7b8.png\";","import {\n  createStyles,\n  fade,\n  Theme,\n  makeStyles,\n} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: { flexGrow: 1 },\n    menuButton: { marginRight: theme.spacing(2), color: \"black\" },\n    title: {\n      flexGrow: 1,\n      display: \"none\",\n      [theme.breakpoints.up(\"sm\")]: { display: \"block\" },\n    },\n    search: {\n      color: \"black\",\n      position: \"relative\",\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      \"&:hover\": { backgroundColor: fade(theme.palette.common.white, 0.25) },\n      marginLeft: 0,\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: theme.spacing(1),\n        width: \"auto\",\n      },\n    },\n    searchIcon: {\n      color: \"black\",\n      padding: theme.spacing(0, 2),\n      height: \"100%\",\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    inputRoot: { color: \"inherit\" },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"12ch\",\n        \"&:focus\": { width: \"20ch\" },\n      },\n    },\n  })\n);\n","import React, { useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Box from \"@material-ui/core/Box\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n// Helper Functions\nimport { fetchIMDbData } from \"../utils/api\";\n\nimport AppIcon from \"../images/PopcornIcon.png\";\nimport { useStyles } from \"../styles/AppSearchBar.styles\";\nimport { IconButton } from \"@material-ui/core\";\n\nexport default function SearchAppBar(props: any) {\n  const [loading, setLoading] = useState<boolean>(false);\n  const classes = useStyles();\n\n  const handleKeyDown = async (event: any) => {\n    if (event.key === \"Enter\") {\n      setLoading(true);\n      const result = await fetchIMDbData(event.target.value);\n      props.setStreams(result.data.d);\n      setLoading(false);\n      return result;\n    }\n  };\n\n  return (\n    <Box className={classes.root}>\n      <AppBar elevation={1} position=\"fixed\" style={{ background: \"white\" }}>\n        <Toolbar>\n          <Box\n            height=\"100%\"\n            width=\"100%\"\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n          >\n            <Box height=\"100%\" width=\"100%\" display=\"flex\" alignItems=\"center\">\n              <Box width=\"200px\">\n                <img src={AppIcon} alt=\"\" width=\"200px\" />\n              </Box>\n            </Box>\n            <Box className={classes.search}>\n              <Box className={classes.searchIcon}>\n                {loading ? <CircularProgress size={24} /> : <SearchIcon />}\n              </Box>\n              <InputBase\n                placeholder=\"Searchâ€¦\"\n                classes={{ root: classes.inputRoot, input: classes.inputInput }}\n                onKeyPress={(e) => handleKeyDown(e)}\n                inputProps={{ \"aria-label\": \"search\" }}\n              />\n            </Box>\n            <IconButton>\n              <i style={{ color: \"black\" }} className=\"far fa-user-circle\" />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles({\n  root: { maxWidth: 345, height: \"100%\" },\n  media: { height: 500 },\n});\n","import React, { useState } from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Box from \"@material-ui/core/Box\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useStyles } from \"../styles/MediaCard.styles\";\nimport { IMediaCard } from \"../types/prop_types\";\nimport { IStreamLocation } from \"../types/streams\";\nimport { getStreamsForTitle } from \"../utils/api\";\nimport { truncate } from \"../utils/helpers\"\n\nfunction truncateBox(str: string, n: number) {\n const subString = truncate(str, n)\n  return (\n    <Tooltip title={str}>\n      <Box aria-label=\"title\">{`${subString}...`}</Box>\n    </Tooltip>\n  );\n}\n\nexport default function MediaCard(props: IMediaCard) {\n  const classes = useStyles();\n  const [locations, setLocations] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [searching, setSearching] = useState(false);\n\n  const handleClick = async (event: any, id: string) => {\n    setAnchorEl(event.currentTarget);\n    setSearching(true)\n    const loc: any = await getStreamsForTitle(id);\n    setLocations(loc.data.collection.locations);\n    setSearching(false)\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setLocations([]);\n  };\n\n  return (\n    <Box>\n      <Popover\n        open={Boolean(anchorEl)}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Box p={2} display=\"flex\" flexDirection=\"column\">\n          {searching ? (\n            <CircularProgress />\n          ) : locations && locations.length > 0 ? (\n            locations.map((loc: IStreamLocation, index: number) => (\n              <Box\n                key={index}\n                mb={2}\n                style={{ cursor: \"pointer\" }}\n                onClick={() => window.open(loc.url, \"_blank\")}\n              >\n                <img src={loc.icon} alt=\"\" />\n              </Box>\n            ))\n          ) : <Box fontFamily=\"Lato\">\n            No Streams Found\n          </Box>\n          }\n        </Box>\n      </Popover>\n      <Card className={classes.root}>\n        <CardMedia\n          className={classes.media}\n          image={props.picture || undefined}\n          title={props.title}\n        />\n        <CardContent>\n          <Typography variant=\"h5\">{truncateBox(props.title, 25)}</Typography>\n        </CardContent>\n        <CardActions>\n          <IconButton onClick={(e: React.MouseEvent<HTMLAnchorElement> | React.MouseEvent<HTMLButtonElement>) => handleClick(e, props.IMDbId)}>\n            <i className=\"fa fa-tv\" />\n          </IconButton>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n}\n","export function truncate(str: string, n: number) {\n    if (str.length <= n) return str;\n\n    return str.substr(0, n - 1);\n}\n","// Libraries\nimport React, { useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\n\n// Components\nimport AppBar from \"./components/AppBar\";\nimport MediaCard from \"./components/MediaCard\";\n\n// Interfaces & Types\nimport { IStream } from \"./types/streams\";\n\nfunction App() {\n  const [streams, setStreams] = useState<IStream[]>([]);\n\n  return (\n    <Box style={{ textAlign: \"center\" }}>\n      <AppBar setStreams={setStreams} />\n      <Grid\n        container\n        spacing={2}\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{\n          marginTop: \"5rem\",\n          paddingRight: \"1rem\",\n          paddingLeft: \"1rem\",\n        }}\n      >\n        {streams.map((stream: IStream, index: number) => {\n          return (\n            <Grid key={index} item xs={12} sm={6} md={3}>\n              <MediaCard\n                IMDbId={stream.id}\n                title={stream.l}\n                picture={(stream.i && stream.i.imageUrl) || null}\n              />\n            </Grid>\n          );\n        })}\n      </Grid>\n    </Box>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}